!function t(e,n,r){function i(s,u){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!u&&c)return c(s,!0);if(o)return o(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var f=n[s]={exports:{}};e[s][0].call(f.exports,function(t){var n=e[s][1][t];return i(n?n:t)},f,f.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";!function(t,r){"function"==typeof define&&define.amd?define(r):"undefined"!=typeof n?e.exports=r():t.cash=t.$=r()}(this,function(){function t(t,e){e=e||S;var n=P.test(t)?e.getElementsByClassName(t.slice(1)):D.test(t)?e.getElementsByTagName(t):e.querySelectorAll(t);return n}function e(t){if(!T){T=S.implementation.createHTMLDocument();var e=T.createElement("base");e.href=S.location.href,T.head.appendChild(e)}return T.body.innerHTML=t,T.body.childNodes}function n(t){"loading"!==S.readyState?t():S.addEventListener("DOMContentLoaded",t)}function r(r,i){if(!r)return this;if(r.cash&&r!==A)return r;var o,s=r,u=0;if(H(r))s=R.test(r)?S.getElementById(r.slice(1)):_.test(r)?e(r):t(r,i);else if(B(r))return n(r),this;if(!s)return this;if(s.nodeType||s===A)this[0]=s,this.length=1;else for(o=this.length=s.length;u<o;u++)this[u]=s[u];return this}function i(t,e){return new r(t,e)}function o(t,e){for(var n=t.length,r=0;r<n&&e.call(t[r],t[r],r,t)!==!1;r++);}function s(t,e){var n=t&&(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector);return!!n&&n.call(t,e)}function u(t){return H(t)?s:t.cash?function(e){return t.is(e)}:function(t,e){return t===e}}function c(t){return i(M.call(t).filter(function(t,e,n){return n.indexOf(t)===e}))}function a(t){return t[F]=t[F]||{}}function f(t,e,n){return a(t)[e]=n}function h(t,e){var n=a(t);return void 0===n[e]&&(n[e]=t.dataset?t.dataset[e]:i(t).attr("data-"+e)),n[e]}function l(t,e){var n=a(t);n?delete n[e]:t.dataset?delete t.dataset[e]:i(t).removeAttr("data-"+name)}function d(t){return H(t)&&t.match(I)}function p(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}function v(t,e,n){t.classList?t.classList.add(e):n.indexOf(" "+e+" ")&&(t.className+=" "+e)}function m(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(e,"")}function g(t,e){return parseInt(A.getComputedStyle(t[0],null)[e],10)||0}function x(t,e,n){var r=h(t,"_cashEvents")||f(t,"_cashEvents",{});r[e]=r[e]||[],r[e].push(n),t.addEventListener(e,n)}function y(t,e,n){var r,i=h(t,"_cashEvents"),s=i&&i[e];s&&(n?(t.removeEventListener(e,n),r=s.indexOf(n),r>=0&&s.splice(r,1)):(o(s,function(n){t.removeEventListener(e,n)}),s=[]))}function b(t,e){return"&"+encodeURIComponent(t)+"="+encodeURIComponent(e).replace(/%20/g,"+")}function w(t){var e=[];return o(t.options,function(t){t.selected&&e.push(t.value)}),e.length?e:null}function C(t){var e=t.selectedIndex;return e>=0?t.options[e].value:null}function N(t){var e=t.type;if(!e)return null;switch(e.toLowerCase()){case"select-one":return C(t);case"select-multiple":return w(t);case"radio":return t.checked?t.value:null;case"checkbox":return t.checked?t.value:null;default:return t.value?t.value:null}}function L(t,e,n){if(n){var r=t.childNodes[0];t.insertBefore(e,r)}else t.appendChild(e)}function E(t,e,n){var r=H(e);return!r&&e.length?void o(e,function(e){return E(t,e,n)}):void o(t,r?function(t){return t.insertAdjacentHTML(n?"afterbegin":"beforeend",e)}:function(t,r){return L(t,0===r?e:e.cloneNode(!0),n)})}var T,S=document,A=window,j=Array.prototype,M=j.slice,O=j.filter,q=j.push,k=function(){},B=function(t){return typeof t==typeof k&&t.call},H=function(t){return"string"==typeof t},R=/^#[\w-]*$/,P=/^\.[\w-]*$/,_=/<.+>/,D=/^\w+$/,U=i.fn=i.prototype=r.prototype={cash:!0,length:0,push:q,splice:j.splice,map:j.map,init:r};Object.defineProperty(U,"constructor",{value:i}),i.parseHTML=e,i.noop=k,i.isFunction=B,i.isString=H,i.extend=U.extend=function(t){t=t||{};var e=M.call(arguments),n=e.length,r=1;for(1===e.length&&(t=this,r=0);r<n;r++)if(e[r])for(var i in e[r])e[r].hasOwnProperty(i)&&(t[i]=e[r][i]);return t},i.extend({merge:function(t,e){for(var n=+e.length,r=t.length,i=0;i<n;r++,i++)t[r]=e[i];return t.length=r,t},each:o,matches:s,unique:c,isArray:Array.isArray,isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}});var F=i.uid="_cash"+Date.now();U.extend({data:function(t,e){if(H(t))return void 0===e?h(this[0],t):this.each(function(n){return f(n,t,e)});for(var n in t)this.data(n,t[n]);return this},removeData:function(t){return this.each(function(e){return l(e,t)})}});var I=/\S+/g;U.extend({addClass:function(t){var e=d(t);return e?this.each(function(t){var n=" "+t.className+" ";o(e,function(e){v(t,e,n)})}):this},attr:function(t,e){if(t){if(H(t))return void 0===e?this[0]?this[0].getAttribute?this[0].getAttribute(t):this[0][t]:void 0:this.each(function(n){n.setAttribute?n.setAttribute(t,e):n[t]=e});for(var n in t)this.attr(n,t[n]);return this}},hasClass:function(t){var e=!1,n=d(t);return n&&n.length&&this.each(function(t){return e=p(t,n[0]),!e}),e},prop:function(t,e){if(H(t))return void 0===e?this[0][t]:this.each(function(n){n[t]=e});for(var n in t)this.prop(n,t[n]);return this},removeAttr:function(t){return this.each(function(e){e.removeAttribute?e.removeAttribute(t):delete e[t]})},removeClass:function(t){if(!arguments.length)return this.attr("class","");var e=d(t);return e?this.each(function(t){o(e,function(e){m(t,e)})}):this},removeProp:function(t){return this.each(function(e){delete e[t]})},toggleClass:function(t,e){if(void 0!==e)return this[e?"addClass":"removeClass"](t);var n=d(t);return n?this.each(function(t){var e=" "+t.className+" ";o(n,function(n){p(t,n)?m(t,n):v(t,n,e)})}):this}}),U.extend({add:function(t,e){return c(i.merge(this,i(t,e)))},each:function(t){return o(this,t),this},eq:function(t){return i(this.get(t))},filter:function(t){if(!t)return this;var e=B(t)?t:u(t);return i(O.call(this,function(n){return e(n,t)}))},first:function(){return this.eq(0)},get:function(t){return void 0===t?M.call(this):t<0?this[t+this.length]:this[t]},index:function(t){var e=t?i(t)[0]:this[0],n=t?this:i(e).parent().children();return M.call(n).indexOf(e)},last:function(){return this.eq(-1)}});var $=function(){var t=/(?:^\w|[A-Z]|\b\w)/g,e=/[\s-_]+/g;return function(n){return n.replace(t,function(t,e){return t[0===e?"toLowerCase":"toUpperCase"]()}).replace(e,"")}}(),z=function(){var t={},e=document,n=e.createElement("div"),r=n.style;return function(e){if(e=$(e),t[e])return t[e];var n=e.charAt(0).toUpperCase()+e.slice(1),i=["webkit","moz","ms","o"],s=(e+" "+i.join(n+" ")+n).split(" ");return o(s,function(n){if(n in r)return t[n]=e=t[e]=n,!1}),t[e]}}();i.prefixedProp=z,i.camelCase=$,U.extend({css:function(t,e){if(H(t))return t=z(t),arguments.length>1?this.each(function(n){return n.style[t]=e}):A.getComputedStyle(this[0])[t];for(var n in t)this.css(n,t[n]);return this}}),o(["Width","Height"],function(t){var e=t.toLowerCase();U[e]=function(){return this[0].getBoundingClientRect()[e]},U["inner"+t]=function(){return this[0]["client"+t]},U["outer"+t]=function(e){return this[0]["offset"+t]+(e?g(this,"margin"+("Width"===t?"Left":"Top"))+g(this,"margin"+("Width"===t?"Right":"Bottom")):0)}}),U.extend({off:function(t,e){return this.each(function(n){return y(n,t,e)})},on:function(t,e,r,i){var o;if(!H(t)){for(var u in t)this.on(u,e,t[u]);return this}return B(e)&&(r=e,e=null),"ready"===t?(n(r),this):(e&&(o=r,r=function(t){for(var n=t.target;!s(n,e);){if(n===this)return n=!1;n=n.parentNode}n&&o.call(n,t)}),this.each(function(e){var n=r;i&&(n=function(){r.apply(this,arguments),y(e,t,n)}),x(e,t,n)}))},one:function(t,e,n){return this.on(t,e,n,!0)},ready:n,trigger:function(t,e){var n=S.createEvent("HTMLEvents");return n.data=e,n.initEvent(t,!0,!1),this.each(function(t){return t.dispatchEvent(n)})}}),U.extend({serialize:function(){var t="";return o(this[0].elements||this,function(e){if(!e.disabled&&"FIELDSET"!==e.tagName){var n=e.name;switch(e.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var r=N(e);null!==r&&o(r,function(e){t+=b(n,e)});break;default:var i=N(e);null!==i&&(t+=b(n,i))}}}),t.substr(1)},val:function(t){return void 0===t?N(this[0]):this.each(function(e){return e.value=t})}}),U.extend({after:function(t){return i(t).insertAfter(this),this},append:function(t){return E(this,t),this},appendTo:function(t){return E(i(t),this),this},before:function(t){return i(t).insertBefore(this),this},clone:function(){return i(this.map(function(t){return t.cloneNode(!0)}))},empty:function(){return this.html(""),this},html:function(t){if(void 0===t)return this[0].innerHTML;var e=t.nodeType?t[0].outerHTML:t;return this.each(function(t){return t.innerHTML=e})},insertAfter:function(t){var e=this;return i(t).each(function(t,n){var r=t.parentNode,i=t.nextSibling;e.each(function(t){r.insertBefore(0===n?t:t.cloneNode(!0),i)})}),this},insertBefore:function(t){var e=this;return i(t).each(function(t,n){var r=t.parentNode;e.each(function(e){r.insertBefore(0===n?e:e.cloneNode(!0),t)})}),this},prepend:function(t){return E(this,t,!0),this},prependTo:function(t){return E(i(t),this,!0),this},remove:function(){return this.each(function(t){return t.parentNode.removeChild(t)})},text:function(t){return void 0===t?this[0].textContent:this.each(function(e){return e.textContent=t})}});var W=S.documentElement;return U.extend({position:function(){var t=this[0];return{left:t.offsetLeft,top:t.offsetTop}},offset:function(){var t=this[0].getBoundingClientRect();return{top:t.top+A.pageYOffset-W.clientTop,left:t.left+A.pageXOffset-W.clientLeft}},offsetParent:function(){return i(this[0].offsetParent)}}),U.extend({children:function(t){var e=[];return this.each(function(t){q.apply(e,t.children)}),e=c(e),t?e.filter(function(e){return s(e,t)}):e},closest:function(t){return!t||this.length<1?i():this.is(t)?this.filter(t):this.parent().closest(t)},is:function(t){if(!t)return!1;var e=!1,n=u(t);return this.each(function(r){return e=n(r,t),!e}),e},find:function(e){if(!e||e.nodeType)return i(e&&this.has(e).length?e:null);var n=[];return this.each(function(r){q.apply(n,t(e,r))}),c(n)},has:function(e){var n=H(e)?function(n){return 0!==t(e,n).length}:function(t){return t.contains(e)};return this.filter(n)},next:function(){return i(this[0].nextElementSibling)},not:function(t){if(!t)return this;var e=u(t);return this.filter(function(n){return!e(n,t)})},parent:function(){var t=[];return this.each(function(e){e&&e.parentNode&&t.push(e.parentNode)}),c(t)},parents:function(t){var e,n=[];return this.each(function(r){for(e=r;e&&e.parentNode&&e!==S.body.parentNode;)e=e.parentNode,(!t||t&&s(e,t))&&n.push(e)}),c(n)},prev:function(){return i(this[0].previousElementSibling)},siblings:function(){var t=this.parent().children(),e=this[0];return t.filter(function(t){return t!==e})}}),i})},{}],2:[function(t,e,n){var r=t("./modules/twitter.js");r.init()},{"./modules/twitter.js":4}],3:[function(t,e,n){function r(){if(i(".js-handle").length>0&&""!=i(".js-handle").text()){var t=i(".js-handle").text().replace("@",""),e=this;e.handle=ko.observable(t),e.textString=ko.observable(""),e.sections=ko.observableArray([]),e.textString.subscribe(function(t){e.sections(t.match(new RegExp(".{1,140}","g")))})}}var i=t("cash-dom");e.exports={textModel:r}},{"cash-dom":1}],4:[function(t,e,n){function r(){s(".js-authorise").on("click",function(t){u.req("GET","/authorise",function(t){t.url&&(window.location=t.url)})},function(t){console.log(t)})}function i(){var t=new c.textModel;ko.applyBindings(t),s(".js-send-tweets").on("click",function(e){var n=t.sections();s(".js-handle").text();u.req("POST","/send_tweets",function(t){200===t.status?s(".js-chain-wrap").addClass("isHidden").on("transitionend",function(){s(".js-results").text("Tweet thread successful.").addClass("isActive")}):s(".js-results").text("Tweet thread unsuccessful.").addClass("isError")},function(t){422==t.status&&(window.location="/")},{sections:n})},function(t){console.log(t)})}function o(){r(),i()}var s=t("cash-dom"),u=t("./utils.js"),c=t("./textSplit.js");e.exports={init:o}},{"./textSplit.js":3,"./utils.js":5,"cash-dom":1}],5:[function(t,e,n){function r(t,e,n,r,i){var o=new XMLHttpRequest;o.open(t,e,!0),o.onload=function(){if(o.status>=200&&o.status<400){var t=JSON.parse(o.responseText);n(t)}else r(o)},"POST"===t&&i?(o.setRequestHeader("Content-Type","application/json; charset=UTF-8"),o.send(JSON.stringify(i))):o.send()}e.exports={req:r}},{}]},{},[2]);